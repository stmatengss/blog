<!doctype html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.1.1" />






<meta name="description" content="...">
<meta property="og:type" content="website">
<meta property="og:title" content="Teng&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/blog/index.html">
<meta property="og:site_name" content="Teng&#39;s Blog">
<meta property="og:description" content="...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Teng&#39;s Blog">
<meta name="twitter:description" content="...">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/blog/"/>





  <title>Teng's Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-116728507-1', 'auto');
  ga('send', 'pageview');
</script>











</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Teng's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">A coder and systemer</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2019/03/04/The-Usages-of-Intel-RTM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/04/The-Usages-of-Intel-RTM/" itemprop="url">The Usages of Intel RTM</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-04T00:15:00+08:00">
                2019-03-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The emerging HTM (Hardware Transactional Memory) technology can reduce the extra overhead (i.e., Lock) during doing transactions. Recently years, Intel make its hardware solutions, RTM (Restricted Transactional Memory), is available as a mature commercial products. There are three main instructions: XBEGIN, XEND, and XABORT for supporting HTM. Intel Intrinsics library natively support such three software interfaces in C/C++. </p>
<p>To start/end the transactional code region, programmer should use <code>XBEGIN/XEND</code>. The XABORT instruction allows programmers to abort the execution of an RTM region explicitly. The XABORT instruction takes an <code>8-bit</code> immediate argument that is loaded into the EAX register becoming available to software following an RTM abort.</p>
<p>A simple example is just like following codes.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">while (1) &#123; // keep trying</div><div class="line">    int status = _xbegin(); // set status = -1 and start transaction</div><div class="line">    if (status == _XBEGIN_STARTED) &#123; // status == XBEGIN_STARTED == -1</div><div class="line">        (*g) ++; // non atomic increment of shared global variable</div><div class="line">        _xend(); // end transaction</div><div class="line">        break; // break on success</div><div class="line">    &#125; else &#123; //</div><div class="line">        x_abort(0xff);</div><div class="line">    &#125; //</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Firstly, you should check whether your CPU platform is support RTM or not. Just run <code>cat /proc/cpuinfo</code>, the answer is yes if <code>rtm</code> is shown in the flags item. To compile such RTM codes, you should include the C header named <code>immintrin.h</code> add an extra compiler flags <code>-mrtm</code></p>
<p>A full descriptions of RTM’s APIs is available <a href="https://software.intel.com/sites/landingpage/IntrinsicsGuide/#techs=Other&amp;text=_x" target="_blank" rel="external">here</a> </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2019/02/07/Garbage-Collection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/02/07/Garbage-Collection/" itemprop="url">Garbage Collection</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-07T02:51:39+08:00">
                2019-02-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Abstraction-of-Garbage-Collection"><a href="#Abstraction-of-Garbage-Collection" class="headerlink" title="Abstraction of Garbage Collection"></a>Abstraction of Garbage Collection</h2><ul>
<li>Manual Memory Management: C/C++<ul>
<li>Problems: 1. <code>Memory Leak</code>; 2. <code>Double Free</code>; 3. <code>Use-after-frees</code></li>
</ul>
</li>
<li><p>What’s Garbage: Objects that won’t be used again</p>
</li>
<li><p>Types of Garbage Collectors:</p>
<ul>
<li>Incremental vs. stop-the-world:</li>
</ul>
<ul>
<li>An incremental collector is one that runs concurrently<br>with the program.</li>
<li>A stop-the-world collector pauses program execution to<br>look for garbage.</li>
</ul>
<ul>
<li>Compacting vs non-compacting:</li>
</ul>
<ul>
<li>A compacting collector is one that moves objects around<br>in memory.</li>
<li>A non-compacting collector is one that leaves all objects<br>where they originated.</li>
</ul>
</li>
</ul>
<h2 id="Algorithms"><a href="#Algorithms" class="headerlink" title="Algorithms"></a>Algorithms</h2><ul>
<li>The simplest framework: reference counting<ul>
<li>Each object should have a reference count (<code>refcount</code>)</li>
<li>Create/Delete a reference will increase/decrease the value of <code>refcount</code></li>
<li>When <code>refcount</code> is <code>zero</code>, it should be reclaimed.</li>
<li>More: <code>Reference Cycles</code> is a set of objects that cyclically refer to one another.</li>
</ul>
<ul>
<li>Because all the objects are referenced, all have nonzero refcounts and are never reclaimed.</li>
</ul>
<ul>
<li>An implementation in C++: shared_ptr</li>
</ul>
</li>
<li><code>Mark-and-Sweep</code>: The Intuition<ul>
<li>Any objects (not) reachable from the root set are (not) reachable</li>
<li>Marking Phase: Find reachable objects. + Sweeping phase: Reclaim free memory</li>
<li>Four States: Marked, Enqueued, Unknown, Deallocated</li>
</ul>
</li>
<li><p>Baker’s Algorithm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Move all of the root set to the enqueued list.</div><div class="line">While the enqueued list is not empty: </div><div class="line">    Move the first object from the enqueued list to the marked list.</div><div class="line">    For each unknown object referenced, add it to the enqueued list.</div><div class="line">At this point, everything reachable is in marked and everything unreachable is in unknown.</div><div class="line">Concatenate the unknown and deallocated lists</div><div class="line">    Deallocates all garbage in O(1).</div><div class="line">Move everything from the marked list to the unknown list.</div><div class="line">    Can be done in O(1).</div><div class="line">    Indicates objects again must be proven reachable on next scan.</div></pre></td></tr></table></figure>
</li>
<li><p>Stop-and-Copy: </p>
<ul>
<li>Improve Locality =&gt; compaction</li>
<li>Increasing Allocation Speed: Free-List<ul>
<li>General: 10-20 assembly instructions </li>
<li>Stack Allocation: one</li>
</ul>
</li>
<li>Advantages:<ol>
<li>Implementation simplicity (compared to mark-and-sweep).</li>
<li>Fast memory allocation; using OS-level tricks, can allocate in a single assembly instruction.</li>
<li>Excellent locality; depth-first ordering of copied objects places similar objects near each other.</li>
</ol>
</li>
<li>Disadvantages:<ol>
<li>Requires half of memory to be free at all times.</li>
<li>Collection time proportional to number of bytes used by objects.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="Hybrid-Approaches"><a href="#Hybrid-Approaches" class="headerlink" title="Hybrid Approaches"></a>Hybrid Approaches</h2><ul>
<li>Motto: Objects die young (short live object)</li>
<li>Several Layer “Generations”:<ol>
<li>Eden: Stop-and-copy strategy</li>
<li>Survivor Objects: move elements to it when OOM</li>
<li>Tenured Objects: Objects that survive long enough</li>
</ol>
</li>
</ul>
<h2 id="TO-BE-CONTINUE"><a href="#TO-BE-CONTINUE" class="headerlink" title="TO BE CONTINUE"></a>TO BE CONTINUE</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/12/19/RDMA-Trouble-Shooting-Tools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/12/19/RDMA-Trouble-Shooting-Tools/" itemprop="url">RDMA Trouble Shooting Tools</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-19T00:44:47+08:00">
                2018-12-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>Monitor Traffic</p>
<ol>
<li>add <code>options mlx4_core log_num_mgm_entry_size=-1</code> to <code>/etc/modprobe.d/mlx4.conf</code></li>
<li>restart the driver via <code>/etc/init.d/openibd restart</code></li>
<li>use <code>ibdump</code></li>
</ol>
</li>
<li><p>check what is the global pause configuration</p>
<ul>
<li><code>ethtool -a eth2</code> or <code>ethtool -A eth2</code></li>
</ul>
</li>
<li><p>Diagnose</p>
<ul>
<li><code>ibdiagnet</code> </li>
</ul>
</li>
<li><p>Check Connections and Switch</p>
<ul>
<li><code>ibswitches</code></li>
<li><code>ibdev2netdev</code></li>
<li><code>iblinkinfo</code></li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/11/04/Coroutine-Makes-System-More-Effciency/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/11/04/Coroutine-Makes-System-More-Effciency/" itemprop="url">Coroutine Makes System More Effciency</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-04T21:52:38+08:00">
                2018-11-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Stackless-v-s-Stackful"><a href="#Stackless-v-s-Stackful" class="headerlink" title="Stackless v.s. Stackful"></a>Stackless v.s. Stackful</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/11/04/SeqLock-An-Optimistic-and-Write-Prefered/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/11/04/SeqLock-An-Optimistic-and-Write-Prefered/" itemprop="url">SeqLock: An Optimistic and Write Prefered</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-04T20:39:19+08:00">
                2018-11-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Foreword"><a href="#Foreword" class="headerlink" title="Foreword"></a>Foreword</h2><p>Lock is a crucial component in computer system including database, file system, parallel computation system, etc. It limit different threads to access the same resource simultaneously. It can be seen as a mutual exclusion concurrency control policy. These multiple accessing phenomena can be divided into three kinds: Write-Write conflict, Write-Read conflict, Read-Read conflict (not exist). Write-Read Lock (a.k.a., Exclusive Lock &amp; Shared Lock) can stop the same resource accessing from multiple writer and support multi-reader and single write (SWMR) naturally. The Write-Read Lock also has two main kinds of algorithm: Read-Preferred and Write preferred. Unfortunately, this lock mechanism always assume the conflict may happening (pessimistic), and is un-friendly to the process which will block the process and even bring with deadlock.</p>
<h2 id="SeqLock-An-Optimistic-Lock"><a href="#SeqLock-An-Optimistic-Lock" class="headerlink" title="SeqLock: An Optimistic Lock"></a>SeqLock: An Optimistic Lock</h2><p>The sequential lock (seq-lock) is composed with a read lock (sequencer) and a write lock to avoid the multi writer accessing.<br>This mechanism is also known as retry lock. When read operation is finished, the reader will check the lock again. Readers read the sequence number before and after reading the shared data. If the sequence number is odd on either occasion, a writer had taken the lock while the data was being read and it may have changed. If the sequence numbers are different, a writer has changed the data while it was being read. In either case readers simply retry (using a loop) until they read the same even sequence number before and after.</p>
<p>The following paragraph is from wikipedia.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">The reader never blocks, but it may have to retry if a write is in progress; this speeds up the readers in the case where the data was not modified, since they do not have to acquire the lock as they would with a traditional read-write lock. Also, writers do not wait for readers, whereas with traditional read-write locks they do, leading to potential resource starvation in a situation where there are a number of readers (because the writer must wait for there to be no readers). Because of these two factors, seqlocks are more efficient than traditional read-write locks for the situation where there are many readers and few writers. The drawback is that if there is too much write activity or the reader is too slow, they might livelock (and the readers may starve).</div></pre></td></tr></table></figure></p>
<p>The pseudo is here. (Please notice that there are multiple writers here)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">Lock write_lock</div><div class="line"></div><div class="line">Write_Lock():</div><div class="line">  write_lock.lock()</div><div class="line">  atomic_increment(SN)</div><div class="line">Write_Unlock():</div><div class="line">  atomic_increment(SN)</div><div class="line">  write_lock.unlock()</div><div class="line">Reader_Lock():</div><div class="line">  do </div><div class="line">    ret = atomic_read(SN)</div><div class="line">  while ret % 2 == 0  // is odd</div><div class="line">  start_sn = ret</div><div class="line">Reader_Unlock():</div><div class="line">  return start_sn != atomic_read(SN)</div><div class="line"></div><div class="line">// Usage: To read data</div><div class="line">do</div><div class="line">  Reader_Lock()</div><div class="line">  // DO read</div><div class="line">while Reader_unlock()</div></pre></td></tr></table></figure></p>
<h2 id="A-Simple-Implementation"><a href="#A-Simple-Implementation" class="headerlink" title="A Simple Implementation"></a>A Simple Implementation</h2><ul>
<li><a href="https://github.com/stmatengss/learning-creating_by_cpp/tree/master/linux_programming/seq_lock" target="_blank" rel="external">Here</a> is a toy. In my codes, I use <code>STL</code> atomic variable to implement spin-lock (test and set) and sequencer. In the distributed system with RDMA, <code>RDMA atomic verbs</code> can replace the <code>CAS</code> and <code>FAA</code> operation of the gcc complier to build up distributed seq-lock. </li>
<li>Another simple implementation can be find <a href="http://blog.kongfy.com/2017/04/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%89%9B%E5%88%80%E5%B0%8F%E8%AF%95%EF%BC%9Aseqlock/" target="_blank" rel="external">here</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/11/04/Concepts-of-SkipList-Implementation-Concurrency-and-Lock-free/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/11/04/Concepts-of-SkipList-Implementation-Concurrency-and-Lock-free/" itemprop="url">Concepts of SkipList: Implementation, Concurrency and Lock-free</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-04T15:58:12+08:00">
                2018-11-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><ul>
<li>Ordered Data Structure</li>
<li>Combining Multi-layer linked list together, the node number of every layer will exponential decline with a factor <code>K</code> and <code>K = 1 / r</code> which r is a critical threshold for skiplist.</li>
<li>Each node has <code>N</code> pointer to its next nodes, the N is known as the degree of this node.</li>
<li>Support: O(log n) CRUD (Create/Read/Update/Delete)</li>
<li><p>Find Operation</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Find (K):</div><div class="line">  ptr = head-&gt;next_list[max_level - 1]</div><div class="line">  for i in max_level to 0:</div><div class="line">    find the last node (last_node) whose key is large than K</div><div class="line">    ptr = pre_node-&gt;next_list[i]</div><div class="line">    // updates[i] = pre_node</div><div class="line">  if ptr-&gt;key == K</div><div class="line">    return ptr</div><div class="line">  return nullptr // return updata array if you need a insert</div></pre></td></tr></table></figure>
</li>
<li><p>Insert Operation</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Insert (K, V):</div><div class="line">  ptr, updates = Find(K)</div><div class="line">  if ptr == nullptr:</div><div class="line">    new_node = NewSkipListNode()</div><div class="line">    new_degree = skiplist_rand()</div><div class="line">    for i in 0 to max_level:</div><div class="line">      new_node-&gt;next_node[i] = updates-&gt;next_list[i]</div><div class="line">      updates-&gt;next_list[i] = new_node</div></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://i.imgur.com/nNjOtfa.png" alt="Skiplist"></p>
<ul>
<li>A fine <a href="http://ticki.github.io/blog/skip-lists-done-right/" target="_blank" rel="external">blog</a> will describe more details.</li>
</ul>
<h2 id="Vary-Implementations"><a href="#Vary-Implementations" class="headerlink" title="Vary Implementations"></a>Vary Implementations</h2><ul>
<li>My Implementation is <a href="https://github.com/stmatengss/SkipList" target="_blank" rel="external">here</a></li>
<li>Google <code>nbds</code> is <a href="https://code.google.com/archive/p/nbds/" target="_blank" rel="external">here</a></li>
</ul>
<h2 id="Research-Areas"><a href="#Research-Areas" class="headerlink" title="Research Areas"></a>Research Areas</h2><ul>
<li>NVM based data structure<ul>
<li>How to design skiplist with less write overhead</li>
<li>How to persist skiplist in NVM</li>
<li>How to recover skiplist in NVM</li>
</ul>
</li>
<li>Distributed SkipList<ul>
<li>Partition/Across-Layers?</li>
<li>How to gain a higher concurrency</li>
</ul>
</li>
<li>Write Optimization<ul>
<li>Write-Optimize Skip List <a href="https://dl.acm.org/citation.cfm?id=3056117" target="_blank" rel="external">PODS’ 17</a><ul>
<li>Cache higher level of the data structures (closest to root)</li>
<li>TO DO ….</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Issues-when-concurrent-accessing"><a href="#Issues-when-concurrent-accessing" class="headerlink" title="Issues when concurrent accessing"></a>Issues when concurrent accessing</h2><ul>
<li>Write-Write Conflict</li>
<li>Dirty Read</li>
<li>Fine-grained lock for every node</li>
<li>COW (copy on write) will cause O (n) copying overhead</li>
</ul>
<h2 id="Lock-Free"><a href="#Lock-Free" class="headerlink" title="Lock-Free"></a>Lock-Free</h2><ul>
<li><a href="http://www.cse.yorku.ca/~ruppert/papers/lfll.pdf" target="_blank" rel="external">Lock-Free Linked List and Skip Lists [PODC’ 04]</a></li>
<li><a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-579.pdf" target="_blank" rel="external">Practical lock-freedom</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/10/14/Distrubted-Concurrency-Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/10/14/Distrubted-Concurrency-Control/" itemprop="url">Distributed Concurrency Control</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-14T12:25:31+08:00">
                2018-10-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Read-Phenomena"><a href="#Read-Phenomena" class="headerlink" title="Read Phenomena"></a>Read Phenomena</h1><ul>
<li>Dirty Read</li>
<li>Non-repeatable Read</li>
<li>Phantom Read</li>
</ul>
<h1 id="Isolation-Level"><a href="#Isolation-Level" class="headerlink" title="Isolation Level"></a>Isolation Level</h1><ul>
<li>Serializable</li>
<li>Repeatable Read</li>
<li>Read Committed</li>
<li>Read Uncommitted</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/10/05/CMU-15-645-Distributed-OLTP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/10/05/CMU-15-645-Distributed-OLTP/" itemprop="url">CMU 15-645 Distributed OLTP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-05T21:43:48+08:00">
                2018-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="OLTP-v-s-OLAP"><a href="#OLTP-v-s-OLAP" class="headerlink" title="OLTP v.s. OLAP"></a>OLTP v.s. OLAP</h1><ul>
<li>On-line Transaction Processing<ul>
<li>Short-lived TX</li>
<li>Small footprint</li>
<li>Repetitive operation</li>
</ul>
</li>
<li>On-line Analytical processing<ul>
<li>Long running queries</li>
<li>Complex joins</li>
<li>Exploratory queries</li>
</ul>
</li>
</ul>
<h1 id="Architectures"><a href="#Architectures" class="headerlink" title="Architectures:"></a>Architectures:</h1><ul>
<li>Shared Everything -&gt; Shared Memory -&gt; Shared Disk -&gt; Shared Nothing<ul>
<li>Shared Nothing (Only via network): Easy to increase capacity and hard ensure consistency at the same time</li>
</ul>
</li>
</ul>
<h1 id="Data-Transparency"><a href="#Data-Transparency" class="headerlink" title="Data Transparency"></a>Data Transparency</h1><ul>
<li>Partitioned (Sharding) v.s. Replicated</li>
<li>Horizontal Partitioning (Round-robin/Hash/Range)</li>
</ul>
<h1 id="Distributed-Transactions"><a href="#Distributed-Transactions" class="headerlink" title="Distributed Transactions"></a>Distributed Transactions</h1><ul>
<li>Centralized v.s. Decentralized</li>
</ul>
<h1 id="Distributed-CC"><a href="#Distributed-CC" class="headerlink" title="Distributed CC"></a>Distributed CC</h1><ul>
<li>Need to allow multi-TXs to execute simultaneously across multi-nodes<ul>
<li>Factors: Replication, Network Communication Overhead, Node Failure, Clock skew</li>
<li><code>Atomic Commit Protocol</code></li>
</ul>
<ul>
<li>2PC, 3PC, Paxos, Raft, ZAB</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/10/05/CMU-15-645-Recovery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/10/05/CMU-15-645-Recovery/" itemprop="url">CMU 15-645 Recovery</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-05T21:13:48+08:00">
                2018-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>When discussing recovery, we have to mention <code>ARIES</code> system (full name: Algorithms for Recovery and Isolation Exploiting Semantics)</li>
</ul>
<h1 id="LSN-Log-Sequence-Number"><a href="#LSN-Log-Sequence-Number" class="headerlink" title="LSN (Log Sequence Number)"></a>LSN (Log Sequence Number)</h1><ul>
<li>Types<br>| Name  | Where  | Definition  |<br>|—|—|—|<br>| flushdLSN  | RAM  | Last LSN in log on disk  |<br>| pageLSN  | @page  | Newest update to page  |<br>| recLSN  | @page  | Oldest update to page  |<br>| lastLSN  | Tj  | Last action of TX Tj |<br>| MasterRecord  | Disk  | LSN of latest checkpoint  | </li>
<li></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/10/05/CMU-15-645-Logging-Schemes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/10/05/CMU-15-645-Logging-Schemes/" itemprop="url">CMU 15-645 Logging Schemes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-05T14:37:27+08:00">
                2018-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Recovery-Algorithm"><a href="#Recovery-Algorithm" class="headerlink" title="Recovery Algorithm"></a>Recovery Algorithm</h1><ul>
<li>Today: ensure DBMS can recover from a failure (during normal TX processing)</li>
<li>Idea: Recover to a state with ACID guarantee</li>
</ul>
<h1 id="Classifications"><a href="#Classifications" class="headerlink" title="Classifications"></a>Classifications</h1><ul>
<li>Storage Types: Volatile Storage (DRAM/SRAM) =&gt; Non-volatile Storage (HDD, SSD, NVM) =&gt; Stable Storage (multiple storage devices)</li>
<li>Failure Types: Transaction / System / Storage Media<ul>
<li>Transaction Errors: Logical errors / Internal State Errors</li>
<li>System Errors: Software (Exceptions, e.g., divide by zero) / hardware (Power down)</li>
</ul>
<ul>
<li>Fail-Stop Assumption: Non-volatile Storage will not be corrupted</li>
</ul>
<ul>
<li>Storage Media Failure: Game Over! WTF</li>
</ul>
</li>
</ul>
<h1 id="Use-volatile-memory-for-faster-access"><a href="#Use-volatile-memory-for-faster-access" class="headerlink" title="Use volatile memory for faster access:"></a>Use volatile memory for faster access:</h1><ul>
<li>Procedures (Buffer Pool):<ol>
<li>Copy target record into memory</li>
<li>Perform the writes in memory</li>
<li>Write Dirty records back to disks</li>
</ol>
</li>
<li>Issue: There are two transactions: T1, T2. T1 is still uncommitted but T2 is already committed. At the same time, the dirty records is written back to non-volatile device. T1 needs to roll back. What’s happened?<ul>
<li>Steal + Force:<ol>
<li>Never have to undo changes of an aborted TX because the changes were not written to disk</li>
<li>Never have to redo changes of a committed TX because all the changes are guaranteed to be written to disk at commit time</li>
</ol>
</li>
</ul>
</li>
</ul>
<h1 id="Shadow-Paging"><a href="#Shadow-Paging" class="headerlink" title="Shadow Paging"></a>Shadow Paging</h1><ul>
<li>Automatically switch roles between master and shadow</li>
<li>Undo: Remove the shadow pages, switch to the master</li>
<li>Cons:<ol>
<li>Copying the entire page table is expensive (a index structure like B+Tree, Path copying)</li>
<li>Commit Overhead is high</li>
</ol>
</li>
</ul>
<h1 id="WAL-Write-Ahead-Log"><a href="#WAL-Write-Ahead-Log" class="headerlink" title="WAL (Write Ahead Log)"></a>WAL (Write Ahead Log)</h1><ul>
<li>Format <code>&lt;Tid, Object Id, Previous Value, Current Value&gt;</code> (Undo + Redo)</li>
<li>Trade-off: <ol>
<li>When should we write log entries to disk?</li>
<li>When should we write dirty records to disk?</li>
</ol>
</li>
</ul>
<h1 id="Log-Styles"><a href="#Log-Styles" class="headerlink" title="Log Styles"></a>Log Styles</h1><ul>
<li>Physical Log: Record the data changes in the database</li>
<li>Logical Log: Higher level operations (e.g., UPDATE, INSERT)<ul>
<li>Cons: higher time costing to recover</li>
<li>Pros: Less space needed</li>
</ul>
</li>
</ul>
<h1 id="Checkpoint"><a href="#Checkpoint" class="headerlink" title="Checkpoint"></a>Checkpoint</h1><ul>
<li>Actions:<ol>
<li>Output onto stable storage all log records currently residing in main memory</li>
<li>Output to the disk all modified blocks</li>
<li>Write a <code>&lt;CHECKPOINT&gt;</code> entry to the log and flush to stable storage</li>
</ol>
</li>
<li>Recovery: Redo committed TXs after checkpoint + Undo uncommitted TXs after checkpoint</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/5/">5</a><a class="extend next" rel="next" href="/blog/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.gif"
               alt="Teng Ma" />
          <p class="site-author-name" itemprop="name">Teng Ma</p>
           
              <p class="site-description motion-element" itemprop="description">...</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/blog/archives/">
                <span class="site-state-item-count">48</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/blog/tags/index.html">
                <span class="site-state-item-count">33</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/stmatengss" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://stackoverflow.com/users/5955640/stmatengss" target="_blank" title="Stackoverflow">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Stackoverflow
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/ma-teng-69a0a8115/" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Linkedin
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Teng Ma</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
