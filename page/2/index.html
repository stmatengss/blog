<!doctype html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.1.1" />






<meta name="description" content="...">
<meta property="og:type" content="website">
<meta property="og:title" content="Teng&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/blog/page/2/index.html">
<meta property="og:site_name" content="Teng&#39;s Blog">
<meta property="og:description" content="...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Teng&#39;s Blog">
<meta name="twitter:description" content="...">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/blog/page/2/"/>





  <title>Teng's Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-116728507-1', 'auto');
  ga('send', 'pageview');
</script>











</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Teng's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">A coder and systemer</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/09/20/Peer-to-Peer-Evolution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/09/20/Peer-to-Peer-Evolution/" itemprop="url">Peer-to-Peer Evolution</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-20T15:38:21+08:00">
                2018-09-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="GPUDirect"><a href="#GPUDirect" class="headerlink" title="GPUDirect"></a>GPUDirect</h2><ul>
<li>Eliminate the need to make a redundant copy in CUDA host memory</li>
<li>Eliminate CPU bandwidth and latency bottlenecks</li>
</ul>
<h2 id="PeerDirect"><a href="#PeerDirect" class="headerlink" title="PeerDirect"></a>PeerDirect</h2><ul>
<li>Eliminate the need to make a redundant copy in host memory</li>
<li>Direct path for data exchange</li>
</ul>
<h2 id="PeerDirect-Async"><a href="#PeerDirect-Async" class="headerlink" title="PeerDirect Async"></a>PeerDirect Async</h2><ul>
<li>Control RDMA device from the GPU</li>
<li>Reduce CPU utilization</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/09/19/Transaction-Protocols/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/09/19/Transaction-Protocols/" itemprop="url">Transaction Protocols</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-19T00:11:36+08:00">
                2018-09-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Catalog"><a href="#Catalog" class="headerlink" title="Catalog"></a>Catalog</h2><ul>
<li>Concurrency Control<ul>
<li>Two-phase Locking (2PL)</li>
</ul>
<ul>
<li>NO_WAIT</li>
<li>WAIT_DIE</li>
</ul>
<ul>
<li>Timestamp Ordering (TIMESTAMP)</li>
<li>Multi-version concurrency control (MVCC)</li>
<li>Optimistic concurrency control (OCC)</li>
<li>Deterministic (CALVIN)</li>
</ul>
</li>
<li>Commitment Protocols<ul>
<li>Two-phase Commit (2PC)</li>
</ul>
</li>
</ul>
<h2 id="Classify-from-two-views"><a href="#Classify-from-two-views" class="headerlink" title="Classify from two views"></a>Classify from two views</h2><ul>
<li>Pessimistic v.s. Optimistic</li>
<li>Locked-based v.s. Timestamp-based</li>
</ul>
<h2 id="Comparison-from-another-view"><a href="#Comparison-from-another-view" class="headerlink" title="Comparison from another view"></a>Comparison from another view</h2><ul>
<li>Pessimistic<ul>
<li>Validate -&gt; Read -&gt; Compute -&gt; Write</li>
</ul>
</li>
<li>Optimistic<ul>
<li>Read -&gt; Compute -&gt; Validate -&gt; Write</li>
</ul>
</li>
</ul>
<h2 id="2-PL"><a href="#2-PL" class="headerlink" title="2-PL"></a>2-PL</h2><ul>
<li>Basic procedures:<ul>
<li>Expanding (Growing) Phase: lock are acquired</li>
<li>Shrinking (Contracting) Phase: lock are released</li>
</ul>
</li>
<li>Centralized 2PL: only one scheduler</li>
<li>Distributed 2PL: at each site, scheduler handle lock requests at that site</li>
</ul>
<h2 id="Timestamp-Ordering-based-algorithm"><a href="#Timestamp-Ordering-based-algorithm" class="headerlink" title="Timestamp Ordering based algorithm"></a>Timestamp Ordering based algorithm</h2><ul>
<li>In a distributed environment, TS requires globally unique and monotonically increasing</li>
<li>A global counter is not easy to maintain and local clock are unsuitable. So, a unique site identifier is needed (e.g., {local time, site indentifier})</li>
<li>Based TO:<ul>
<li>rts(x): largest TO of any read on x, wts(x): largest TO of any write on x<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">for Ri(x):</div><div class="line">  if ts(Ti) &lt; wts(x):</div><div class="line">  then reject Ri(x)</div><div class="line">  else accept Ri(x)</div><div class="line">   rts(x) &lt;- ts(Ti)</div><div class="line">for Wi(x):</div><div class="line">  if ts(Ti) &lt; rts(x) and ts(Ti) &lt; wts(x):</div><div class="line">  then reject Wi(x)</div><div class="line">  else accept Wi(x)</div><div class="line">   wts(x) &lt;- ts(Ti)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="Pitfall"><a href="#Pitfall" class="headerlink" title="Pitfall"></a>Pitfall</h2><ul>
<li>Lock vs. Latch<ul>
<li>Locking mechanism can protect transaction ACID</li>
<li>Latching mechanism can protect data structure safe</li>
</ul>
</li>
<li>TO (Timestamp ordering) algorithm always will cause a deadlock situation (several transactions wait for each other)<ul>
<li>However, a intervention from outside is needed</li>
<li>Wait-for Graph (has a cycle =&gt; deadlock)</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/08/17/Survey-of-Distributed-Resource-Management/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/08/17/Survey-of-Distributed-Resource-Management/" itemprop="url">Survey of Distributed Resource Management</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-17T00:37:14+08:00">
                2018-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Foreword"><a href="#Foreword" class="headerlink" title="Foreword"></a>Foreword</h1><p>Recently, a new hot trending of rack-scale architecture named disaggregation was proposed to improve the data center. In industry, Intel <code>RSD</code> and and HP <code>the machine</code> will soon be available as real world DC resolutions. Some researches like Lego, infiniswap aim to find out the correct deployment guidelines and how to optimize disaggregation architecture. Disaggregation architecture divide machines into working one and resource one (blade server). This deployment make full use of decoupling and hence gain a higher resource utilization and release the working machine from heavy tasks of resource management.<br>However, similar as a standalone architecture, disaggregation architecture also has a need of resource management. Moreover, in a distributed environment, keeping allocation status consistency and persistence will be harder, as well as bringing a huge overhead in network.<br>The simplest design is using RPC to finish a allocation/release request of resource and naturally, also leading to a poor performance due to the frequently network communication.</p>
<h1 id="Related-works"><a href="#Related-works" class="headerlink" title="Related works"></a>Related works</h1><!-- Lego (OSDI' 18) provides a two-level resource management mechanism. In Lego, it adopts a tw -->
<p>Infiniswap (NSDI’ 17) exposes block device IO interface to VMM (virtual memory management). It divides entire address space to many slabs. Every slab is fixed size. Slabs from the same device can be mapped to multiple remote machines’ memory for performance and load balance.<br>The INFINISWAP daemon runs in the user space and only participates in control plane activities. Specifically, it responds to slab-mapping requests from INFINISWAP block devices, preallocates its local memory when possible to minimize time overheads in slab-mapping initialization, and proactively evicts slabs, when necessary, to ensure minimal impact on local applications. All control plane communications take place using RDMA SEND/RECV.<br>Lego (OSDI’ 18) seems to adopt a two-level resource management mechanism. The disaggregation back-end provides coarse grained management and front-end server is responsible for fine grained allocation.</p>
<h1 id="Trade-off"><a href="#Trade-off" class="headerlink" title="Trade-off"></a>Trade-off</h1><p>In a common sense, above two methods only fit infrequent allocation scenario, especially the resource is block device. When the disaggregation resource is byte-addressable memory or non-volatile memory, the frequent allocation/release is unavoidable and hence let allocation become a performance bottleneck.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/08/17/Start-Stream-Join-from-SoccerJoin-to-SplitJoin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/08/17/Start-Stream-Join-from-SoccerJoin-to-SplitJoin/" itemprop="url">Start Stream Join from SoccerJoin to SplitJoin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-17T00:34:14+08:00">
                2018-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Stream-Join"><a href="#Stream-Join" class="headerlink" title="Stream Join"></a>Stream Join</h1><ul>
<li>Dealing with unbounded, “infinity”, input. The output must be produced in real time.</li>
<li>time-base (a expired time for tuples) v.s. count-based (fixed number of tuples)</li>
<li>meeting multi-core =&gt; parallel<br><img src="images/join.png" alt="figure"></li>
</ul>
<h1 id="Kang’s-three-steps-join-algorithm"><a href="#Kang’s-three-steps-join-algorithm" class="headerlink" title="Kang’s three steps join algorithm"></a>Kang’s three steps join algorithm</h1><ul>
<li>assuming tuple r arrives from input stream R:</li>
</ul>
<ol>
<li>Scan stream S’s window to find tuple matching r.</li>
<li>Insert new tuple r into window for stream R.</li>
<li>Invalidate all expired tuples in stream R’s window.</li>
</ol>
<h1 id="Stream-Join-RoadMap"><a href="#Stream-Join-RoadMap" class="headerlink" title="Stream Join RoadMap"></a>Stream Join RoadMap</h1> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">   Kang&apos;s algorithm (Naive) </div><div class="line">=&gt; Cell Join </div><div class="line">=&gt; Soccer (HandShake) Join </div><div class="line">=&gt; Low Latency HandShake Join </div><div class="line">=&gt; Split Join</div></pre></td></tr></table></figure>
<h1 id="Cell-Join"><a href="#Cell-Join" class="headerlink" title="Cell Join"></a>Cell Join</h1><ul>
<li>For heterogeneous architecture</li>
</ul>
<h1 id="Handshake-Join"><a href="#Handshake-Join" class="headerlink" title="Handshake Join"></a>Handshake Join</h1><ul>
<li>Apply classical three-step procedure in small window.</li>
<li>Point-to-point links between processing core.</li>
<li>Missed-join pair problem =&gt; Two-phase forwarding (asymmetric core synchronization protocol): Whenever the right core <code>C_right</code> places a tuple <code>s</code> into its left send queue, it still keep a copy of <code>s</code> in the local window but marked it as <code>forward</code>. The forwarded tuple remains available for joining on <code>C_right</code> until the second phase of tuple forwarding, which is initiated by an <code>ack</code> message from <code>C_left</code></li>
<li><p>Autonomic load balancing =&gt; </p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> R-window is larger than that of our right neighbor</div><div class="line">   place oldest ri into rightSendQueue ;</div><div class="line">   mark ri as forwarded ;</div></pre></td></tr></table></figure>
<p><img src="images/handshake.png" alt="figure"><br><img src="images/handshake2.png" alt="figure"></p>
</li>
</ul>
<h1 id="Low-latency-handshake-join"><a href="#Low-latency-handshake-join" class="headerlink" title="Low latency handshake join"></a>Low latency handshake join</h1><ul>
<li>observation: higher latency due to that tuples may have to queue for longer periods of time before they encounter matching partners.</li>
</ul>
<h1 id="Split-Join"><a href="#Split-Join" class="headerlink" title="Split Join"></a>Split Join</h1><ul>
<li>Different work-flow: Top-down data flow<br><img src="images/dataflow.png" alt="figure"></li>
<li>Don’t need to rely on central coordinator</li>
<li>A distributed network (Distributor), a set of independent join cores (JoinCore/JC), a result gathering network (Combiner/Merger)</li>
<li>Overall:<br><img src="images/splitjoin_overall.png" alt="figure"></li>
</ul>
<ol>
<li>Distributed Tree: K-ary Tree</li>
<li>Parallelism: Sub-window<ul>
<li>Join core: left-region -&gt; storing Tuple <code>r</code> in sliding window; right-region -&gt; processing of the replicated copy of Tuple <code>r</code></li>
<li>Case: A new coming Tuple <code>r</code>, compare <code>r</code> with all the tuples in the <code>S</code> stream sub-windows. Then, assigning <code>r</code> to a storage based on a <code>round-robin</code> selection.</li>
</ul>
</li>
<li><p>Expired Policy:</p>
<ul>
<li><p>Time-based: a lifespan <code>l</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Expiration Process(t, sub-window X) begin</div><div class="line">  i = the end of sub-window X;</div><div class="line">      while ti.timestamp - t.timestamp &gt; Time Window Size do</div><div class="line">          omit ti from sub-window X;</div><div class="line">          i = i−1;</div></pre></td></tr></table></figure>
</li>
<li><p>Count-based: every sub-window is fixed size</p>
</li>
</ul>
</li>
<li><p>Particular join algorithm:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Processing Core(t, sub-window X) begin</div><div class="line">    forall ti-tuple in sub-window X do</div><div class="line">        compare ti-tuple with t; if match then</div><div class="line">            emit the matched result;</div><div class="line">        if i = 0 (mod ordering precision) then</div><div class="line">            emit punctuation star;</div></pre></td></tr></table></figure>
</li>
<li><p>RAP (relaxed adjustable punctuation) strategy</p>
<ul>
<li>Punctuation-based ordering</li>
<li>outer ordering (strict/relax)</li>
<li>inner ordering (the result of a new inserted tuple was in time order)</li>
<li>Employing a combiner rather than a merger</li>
<li>Tuning to produce a punctuation after joining one newly inserted tuple (strict outer ordering) or after <code>N</code> tuples (relax outer ordering)</li>
<li>Data-flow when merging<br><img src="images/punctation.png" alt="figure"><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">N-ary Merger(t) begin</div><div class="line">    foreach right(or left)-region of core1..N in sequence do</div><div class="line">        while a resulting tuple (t) is available in output buffer till the first star do</div><div class="line">            pop t from join core’s output buffer;</div><div class="line">            push t to Merger’s output buffer;</div><div class="line">    push out the end of result star;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/07/18/New-Features-in-OFED/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/07/18/New-Features-in-OFED/" itemprop="url">New Features in OFED</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-18T09:48:43+08:00">
                2018-07-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>In Mellanox OFED version 4.3, a massive of new features have been released. These techniques will be useful to develop RDMA based applications and hence improve the performance. I will introduce some core techniques as following.</p>
<h1 id="Advanced-Transport"><a href="#Advanced-Transport" class="headerlink" title="Advanced Transport"></a>Advanced Transport</h1><ul>
<li>Dynamically Connected Transport: Dynamically Connected transport (DCT) service is an extension to transport services to enable a higher degree of scalability while maintaining high performance for sparse traffic. Utilization of DCT reduces the total number of QPs required system wide by having <code>Reliable type QPs</code> dynamically connect and disconnect from any remote node. DCT connections only stay connected while they are active. This results in smaller memory footprint, less overhead to set connections and higher on-chip cache utilization and hence increased performance. </li>
</ul>
<h1 id="Optimized-Memory-Access"><a href="#Optimized-Memory-Access" class="headerlink" title="Optimized Memory Access"></a>Optimized Memory Access</h1><ul>
<li><p>Contiguous Pages: Contiguous Pages improves performance by allocating user memory regions over physical contiguous pages. It enables a user application to ask low level drivers to allocate contiguous memory for it as part of <code>ibv_reg_mr</code>. </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Possible Value1 | Description</div><div class="line">ANON | Use current pages ANON small ones.</div><div class="line">HUGE | Force huge pages.</div><div class="line">CONTIG | Force contiguous pages.</div><div class="line">PREFER_CONTIG | Try contiguous fallback to ANON small pages. (Default)</div><div class="line">PREFER_HUGE | Try huge fallback to ANON small pages.</div><div class="line">ALL | Try huge fallback to contiguous if failed fallback to ANON small pages.</div></pre></td></tr></table></figure>
</li>
<li><p>Memory Window: Memory Window allows the application to have a more flexible control over remote access to its memory. Memory Windows are intended for situations where the application wants to:</p>
<ul>
<li>grant and revoke remote access rights to a registered region in a dynamic fashion with less of a performance penalty</li>
<li>grant different remote access rights to different remote agents and/or grant those rights over different ranges within registered region<!-- For further information, please refer to the InfiniBand --></li>
</ul>
</li>
<li>Inline Receive: The inline Optimization is only available for RDMA_Send/RDMA_Write. When Inline-Receive is active, the HCA may write received data in to the receive WQE or CQE. Using Inline-Receive saves PCIe read transaction since the HCA does not need to read the scatter list, therefore it improves performance in case of short receive-messages. Usage: Inline-Receive on the requestor side is possible only if the user chooses <code>IB(V)_SIGNAL_ALL_WR</code>.</li>
<li>ODP (On Demand Page): On-Demand-Paging (ODP) is a technique to alleviate much of the shortcomings of memory registration. Applications no longer need to pin down the underlying physical pages of the address space, and track the validity of the mappings. Rather, the HCA requests the latest translations from the OS when pages are not present, and the OS invalidates translations which are no longer valid due to either non-present pages or mapping changes. ODP does not support contiguous pages.<br>ODP can be further divided into 2 subclasses: Explicit and Implicit ODP.<ul>
<li>Explicit ODP: In Explicit ODP, applications still register memory buffers for communication, but this operation is used to define access control for IO rather than pin-down the pages. ODP Memory Region (MR) does not need to have valid mappings at registration time.</li>
<li>Implicit ODP: In Implicit ODP, applications are provided with a special memory key that represents their complete address space. This all IO accesses referencing this key (subject to the access rights associated with the key) does not need to register any virtual address range.</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/06/27/Hyper-s-Rules-for-parallelization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/06/27/Hyper-s-Rules-for-parallelization/" itemprop="url">Hyper's Rules for Parallelization</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-27T16:10:14+08:00">
                2018-06-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><strong>Rule #1</strong>: No random writes to non-local memory<ul>
<li>Chunk the data, redistribute, and then each core sorts/works on local data.</li>
</ul>
</li>
<li><strong>Rule #2</strong>: Only perform sequential reads on non-local memory<ul>
<li>This allows the hardware prefetcher to hide remote access latency.</li>
</ul>
</li>
<li><strong>Rule #3</strong>: No core should ever wait for another<ul>
<li>Avoid fine-grained latching or sync barriers.</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/06/14/Survey-of-DB-Join-Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/06/14/Survey-of-DB-Join-Algorithm/" itemprop="url">Survey of DB Join Algorithm</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-14T23:21:30+08:00">
                2018-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="A-tour-of-Join"><a href="#A-tour-of-Join" class="headerlink" title="A tour of Join"></a>A tour of Join</h1><p>Join is a popular operation among Database Systems- A standard join concept is to combine multiple columns from one or more tables in relational database- ANSI-standard SQL specifies five types of JOIN: INNER, LEFT OUTER, RIGHT OUTER, FULL OUTER and CROSS- The join operation will produce a temporary table which containing the results meeting the conditions- In the followings, we will first introduce different join operation types- We assume that have two tables named <code>R</code> and <code>S</code>-</p>
<p>1- CROSS JOIN: CROSS JOIN can be seen as the Cartesian products of two tables- The sum of items is <code>|R| * |S|</code>-<br>2- Equi-join &amp; Natural Join: Natural Join is a special case of Equi-join- We can write as this via SQL sentences:<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">SELECT *</div><div class="line">FROM employee JOIN department</div><div class="line">  ON employee-DepartmentID = department-DepartmentID;</div></pre></td></tr></table></figure></p>
<pre><code>- We need to use several comparators (one in mostly cases) to make the choosing rules- Natural Join uses equality comparisons between `R` and `S`-
</code></pre><p>3- Outer Join: Outer Join includes left outer joins, right outer joins, and full outer joins (depending on which table’s rows are retained (left, right, or both))-<br>4- Self Join: A table join with itself-</p>
<h1 id="Join-Algorithms"><a href="#Join-Algorithms" class="headerlink" title="Join Algorithms"></a>Join Algorithms</h1><p>We can divide join algorithms to three main types: loop join, sort merge join and hash join</p>
<p>1- Nested loop join: The most naive one with a <code>O(n^2)</code> complexity (like a Bruce-force algorithm)-<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">For each tuple r in R do</div><div class="line">  For each tuple s in S do</div><div class="line">    If r and s satisfy the join condition</div><div class="line">       Then output the tuple &lt;r,s&gt;</div></pre></td></tr></table></figure></p>
<p>2- Block-nested loop (BNL) &amp; Hash Join: Load <code>R</code> to memory as a hash table, and scan <code>S</code></p>
<ul>
<li>Raw hash join</li>
<li>Radix join<ul>
<li>Radix Partition: Translation look-aside buffers (TLBs) =&gt; multi-pass radix partitioning join<pre><code>Foreach input tuple t do
  k = hash(t)
  p[k][pos[k]] = t
  pos[k] ++
</code></pre></li>
</ul>
</li>
<li>No-partition hash join: All worker threads populate a shared hash table with all tuples of R-<br>3- Sort merge join: Sort <code>R</code> and <code>S</code> by a same order, and then use two-points algorithm to distinct and produce the results-</li>
<li>Raw sort merge join<ul>
<li>Multi-way method</li>
<li>Multi-pass method</li>
</ul>
</li>
<li>Massive parallel sort merge join (MPSM)</li>
</ul>
<h1 id="Sort-vs-Hash"><a href="#Sort-vs-Hash" class="headerlink" title="Sort vs- Hash"></a>Sort vs- Hash</h1><h1 id="Distributed-Hash-Join"><a href="#Distributed-Hash-Join" class="headerlink" title="Distributed Hash Join"></a>Distributed Hash Join</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/06/01/GSoC-03-Decouple-Data-Structures-from-Libcds/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/06/01/GSoC-03-Decouple-Data-Structures-from-Libcds/" itemprop="url">[GSoC 03] Decouple Data Structures from Libcds</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-01T02:03:33+08:00">
                2018-06-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Replace-Components-in-Libcds"><a href="#Replace-Components-in-Libcds" class="headerlink" title="Replace Components in Libcds"></a>Replace Components in Libcds</h1><h1 id="Build-up-the-source-trees"><a href="#Build-up-the-source-trees" class="headerlink" title="Build up the source trees"></a>Build up the source trees</h1><p>TODO</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/05/27/GSoC-02-Deployment-and-Configuration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/05/27/GSoC-02-Deployment-and-Configuration/" itemprop="url">[GSoC 02] Deployment and Configuration</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-27T00:52:59+08:00">
                2018-05-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Hardware-Environment"><a href="#Hardware-Environment" class="headerlink" title="Hardware Environment"></a>Hardware Environment</h1><ol>
<li>My personal laptop, a MacBook Pro 15’ inch (2015).</li>
<li>A Dell PowerEdge Server runs Ubuntu 14.04 and equips with dual 8-core CPUs (Intel Xeon E5-2640 v2, 2.0 GHz), 96 GB memory space, and a Mellanox ConnectX-3 InfiniBand NIC (MT27500, 40 Gbps).</li>
</ol>
<h1 id="Software-Environment"><a href="#Software-Environment" class="headerlink" title="Software Environment"></a>Software Environment</h1><ol>
<li>Boost Library 1.60<ul>
<li>I compile the binary and install this in MacOS, and directly install libboost via <code>apt-get</code> tool in Ubuntu.</li>
</ul>
</li>
<li>Hwloc Library (Hierarchical view of the machine)</li>
<li>GCC-5.4<ul>
<li>The server has a old version 4.8 of GCC, so <code>C++17</code> cannot be used in the environment.</li>
<li>I upgrade gcc and use <code>update-alternatives</code> to switch new version on.</li>
</ul>
</li>
<li>CMake<ul>
<li>Update my cmake from a private source list.</li>
</ul>
</li>
</ol>
<h1 id="HPX-deployment"><a href="#HPX-deployment" class="headerlink" title="HPX deployment"></a>HPX deployment</h1><ol>
<li>Add <code>my_test/</code>,<code>ctags</code>,’CMakeFiles/‘ to <code>.gitignore</code> for neglecting some unnecessary files.</li>
<li>Make a new directory named <code>my_test</code> and run <code>cmake</code> in this directory and indicate the path of <code>hwloc</code> and <code>libboost</code>.</li>
<li>Run <code>make -j16</code> to build up and generate the static library.</li>
</ol>
<h1 id="Libcds"><a href="#Libcds" class="headerlink" title="Libcds"></a>Libcds</h1><ol>
<li>make a test directory and run <code>CMake</code> (add -DCDS_DISABLE_128BIT_ATOMIC flag for 64-bit building).</li>
<li>make and make install <code>libcds</code></li>
</ol>
<h1 id="Libcds-overview"><a href="#Libcds-overview" class="headerlink" title="Libcds overview"></a>Libcds overview</h1><p>The core functions are all in the <code>cds</code> directory.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">cds/</div><div class="line">├── algo</div><div class="line">│   └── flat_combining</div><div class="line">├── compiler</div><div class="line">│   ├── clang</div><div class="line">│   ├── gcc</div><div class="line">│   ├── icl</div><div class="line">│   └── vc</div><div class="line">├── container</div><div class="line">│   ├── details</div><div class="line">│   ├── impl</div><div class="line">│   ├── striped_map</div><div class="line">│   └── striped_set</div><div class="line">├── details</div><div class="line">├── gc</div><div class="line">│   └── details</div><div class="line">├── intrusive</div><div class="line">│   ├── details</div><div class="line">│   ├── impl</div><div class="line">│   └── striped_set</div><div class="line">├── lock</div><div class="line">├── memory</div><div class="line">├── opt</div><div class="line">├── os</div><div class="line">├── sync</div><div class="line">├── threading</div><div class="line">├── urcu</div><div class="line">└── user_setup</div></pre></td></tr></table></figure></p>
<p>In <code>algo</code>, there are some basic algorithm used in data structures, like flat combining (an OCC algorithm)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">cds/algo</div><div class="line">├── atomic.h</div><div class="line">├── backoff_strategy.h</div><div class="line">├── base.h</div><div class="line">├── bitop.h</div><div class="line">├── bit_reversal.h</div><div class="line">├── elimination.h</div><div class="line">├── elimination_opt.h</div><div class="line">├── elimination_tls.h</div><div class="line">├── flat_combining</div><div class="line">│   ├── defs.h</div><div class="line">│   ├── kernel.h</div><div class="line">│   └── wait_strategy.h</div><div class="line">├── flat_combining.h</div><div class="line">├── int_algo.h</div><div class="line">└── split_bitstring.h</div></pre></td></tr></table></figure></p>
<p>In most cases, <code>Libcds</code> uses RCU (read-copy-update) or HP (hazard pointer) to handle concurrent. In conclusion, the main types of container including:</p>
<ol>
<li>Queue</li>
<li>Stack</li>
<li>HashMap/HashSet</li>
<li>List/KVList</li>
<li>Binary Tree/AVL Tree<br>There are some special algorithms for different data structure to provide lock-free, like <code>MichaelList</code>, <code>Feldman Method</code> and so on.</li>
</ol>
<h1 id="Test-Libcds"><a href="#Test-Libcds" class="headerlink" title="Test Libcds"></a>Test Libcds</h1><ol>
<li>Make a new directory, and type <code>make test</code> to show the benchmarks.</li>
<li>Some of the test case cannot pass, so I post an issue in <code>libcds</code> github homepage. (<a href="https://github.com/khizmax/libcds/issues/121/" target="_blank" rel="external">https://github.com/khizmax/libcds/issues/121/</a> )</li>
<li>Firstly, I try to change my allocator (default is Glibc allocator) to TCMalloc. Then I try to build libcds with asan instrumentation and run the test.</li>
<li>On the other hand, I also run some examples to test the correctness of these algorithms.</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/blog/2018/05/15/GSoC-01-HPX-and-libcds/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Teng Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Teng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2018/05/15/GSoC-01-HPX-and-libcds/" itemprop="url">[GSoC 01] HPX and libcds</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-15T01:38:37+08:00">
                2018-05-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><p>I am glad to see my proposal is accepted by <code>STE||AR Group</code>, and I am eager to make contributions to this community. To push me to focus on my GSoC project, I decide to write a serial article to give a brief introduction to my project.</p>
<p>Firstly, I want to give my understand about <code>HPX</code>, <code>HPX</code> is a library to provide everything you want in HPC (high performance computation). <code>HPX</code> includes most common used parallel algorithms and containers. Especially, some standard STL containers are available in <code>HPX</code>.</p>
<p>STL containers such as vectors/maps/sets/etc are not thread safe. One cannot safely add or remove elements from one of these containers in one thread, while iterating or adding/removing in another thread without potentially catastrophic consequences (usually segmentation faults leading to eventual program failure). So these containers must upport concurrent access. Some work has begun on implementing concurrent structures in HPX, a concurrent unordered map with reader/writer lock and a partial implementation of concurrent vector exist, but they have not all been completed, do not have unit tests and need to be unified into an hpx::concurrent namespace. On the other hand, this lock based implementations are low efficiency, we hope to make use of lock free tech to complete our libraries.</p>
<p>A number of libraries implementing thread safe (sometimes lockfree) containers already exist that can be used for ideas and where code uses a boost compatible license can be integrated into HPX. The aim of the project is to collect as much information and as many implementations of threads safe containers and create or integrate them into the HPX library.</p>
<p>Fortunately, we find an open source library named <code>libcds</code>. Moreover, we get the authorization to migrate these containers to our namespace.</p>
<p><code>libcds</code> is a data structure library including queue, stack, priority queue, binary tree, list, hash table, hash map, etc. Al these data structures are lock-free and have more than one implementation by using different algorithms.</p>
<h1 id="References"><a href="#References" class="headerlink" title="[References]"></a>[References]</h1><ol>
<li><a href="http://stellar-group.org/libraries/hpx/" target="_blank" rel="external">http://stellar-group.org/libraries/hpx/</a></li>
<li><a href="https://github.com/khizmax/libcds" target="_blank" rel="external">https://github.com/khizmax/libcds</a></li>
<li><a href="https://www.boost.org/" target="_blank" rel="external">https://www.boost.org/</a></li>
<li><a href="http://stellar-group.org/2018/04/gsoc-2018-participants-announced/" target="_blank" rel="external">http://stellar-group.org/2018/04/gsoc-2018-participants-announced/</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><span class="page-number current">2</span><a class="page-number" href="/blog/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/5/">5</a><a class="extend next" rel="next" href="/blog/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.gif"
               alt="Teng Ma" />
          <p class="site-author-name" itemprop="name">Teng Ma</p>
           
              <p class="site-description motion-element" itemprop="description">...</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/blog/archives/">
                <span class="site-state-item-count">46</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/blog/tags/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/stmatengss" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://stackoverflow.com/users/5955640/stmatengss" target="_blank" title="Stackoverflow">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Stackoverflow
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/ma-teng-69a0a8115/" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Linkedin
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Teng Ma</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
